services:
  workout-coach:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: workout-coach
    restart: unless-stopped
    ports:
      - "${APP_PORT:-3000}:3000/tcp"
    environment:
      - GEMINI_API_KEY=${GEMINI_API_KEY:?GEMINI_API_KEY is required}
      - DEEPGRAM_API_KEY=${DEEPGRAM_API_KEY:-}
      - USDA_API_KEY=${USDA_API_KEY:-}
      - PORT=3000
      - DATABASE_URL=${DATABASE_URL:?DATABASE_URL is required}
      - GOTRUE_URL=${GOTRUE_URL:-}
      - JWT_SECRET=${JWT_SECRET:-}
